---
title: "Next.jsã«Tailwind CSSã‚’å°å…¥ã™ã‚‹"
date: "2020-06-27T11:48:00.000Z"
updatedAt: ""
template: "post"
draft: false
slug: "/posts/nextjs-tailwind-css"
category: "Next.js"
tags:
    - "Next.js"
    - "Tailwind CSS"
description: "ã“ã®è¨˜äº‹ã¯ã€Next.jsã«Tailwind CSSã‚’å°å…¥ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã™ã‚‹ã‚‚ã®ã§ã™ã€‚Next.jsã¯VercelãŒä½œæˆã—ã¦ã„ã‚‹Reactã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚ã¾ãŸã€Tailwind CSSã¯ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã®CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚"
socialImage: "/media/2020/6/27/2020_6_27__0.png"
---

![Next.jsã¨Tailwind CSSã®ãƒ­ã‚´](/media/2020/6/27/2020_6_27__0.png)

## Next.jsã§Tailwind CSSã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹
**[Next.js](https://nextjs.org/)ã¯VercelãŒä½œæˆã—ã¦ã„ã‚‹Reactã®ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚**é¢å€’ãªè¨­å®šã‚’æ›¸ã‹ãªãã¦ã‚‚ã™ãã«ä½¿ãˆã‚‹Zero Configã‚’æ¨™æ¦œã—ã¦ãŠã‚Šã€å®Ÿéš›ã«webpackã‚„TypeScriptã¨ä¸€ç·’ã«Reactã‚’æ›¸ãéš›ã«ã‚‚ç‰¹åˆ¥ãªæº–å‚™ã¯ä¸è¦ã§ã™ã€‚SSRã«ã‚‚å¯¾å¿œã—ã¦ãŠã‚Šã€Reactã§é–‹ç™ºã™ã‚‹ãªã‚‰Next.jsã‹Facebookè£½ã®Create React Appã‚’ä½¿ã†ã®ãŒã‚¹ã‚¿ãƒ³ãƒ€ãƒ¼ãƒ‰ã«ãªã£ã¦ã„ã¾ã™ã€‚

**ã¾ãŸã€[Tailwind CSS](https://tailwindcss.com/)ã¯ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã®CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚**ãã®ç‰¹å¾´ã¯ã€Tailwind CSSã«ã‚ˆã£ã¦æä¾›ã•ã‚Œã‚‹ã‚¯ãƒ©ã‚¹ã‚’çµ„ã¿åˆã‚ã›ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚Šã€ã‚µã‚¤ãƒˆã‚’ãƒ‡ã‚¶ã‚¤ãƒ³ã—ã¦ã„ãã¨ã“ã‚ã«ã‚ã‚Šã¾ã™ã€‚ã•ã‚‰ã«CSSãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãªã®ã§ã€CSSã«æ…£ã‚Œã¦ã„ãªã„äººã§ã‚‚ç°¡å˜ã«ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚

é–¢é€£è¨˜äº‹: [Tailwind CSSã§ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã§ç´ æ™´ã‚‰ã—ã„é–‹ç™ºä½“é¨“ã‚’å¾—ã‚ˆã†](/posts/recommend-developers-use-tailwind-css)

**ã“ã®è¨˜äº‹ã¯ã€Next.jsã«Tailwind CSSã‚’å°å…¥ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã™ã‚‹ã‚‚ã®ã§ã™ã€‚**Next.jsã‚‚Tailwind CSSã‚‚ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ç•Œéšˆã§ã«ã‚ã‹ã«è©±é¡Œã«ãªã£ã¦ã„ã¾ã™ã­ã€‚

è¨­å®šå†…å®¹ã¯Next.jså…¬å¼ã®[with-tailwindcss Example](https://github.com/vercel/next.js/tree/canary/examples/with-tailwindcss)ã‚’å‚è€ƒã«ã—ã¦ã„ã¾ã™ã€‚

ä»Šå›åˆ©ç”¨ã™ã‚‹ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚

```json
{
 "dependencies": {
    "next": "9.4.4",
    "react": "16.13.1",
    "react-dom": "16.13.1",
    "tailwindcss": "1.4.6"
  }
}
```

## Next.jsã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹
**ã¾ãšã¯Next.jsã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã¾ã—ã‚‡ã†ã€‚**

```bash
$ npx create-next-app nextjs-with-tailwindcss
```

ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€ã¾ã£ã•ã‚‰ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‹Exampleã‚’åˆ©ç”¨ã™ã‚‹ã‹é¸æŠè‚¢ãŒæç¤ºã•ã‚Œã¾ã™ã€‚

```bash
? Pick a template â€º - Use arrow-keys. Return to submit.
â¯  Default starter app
   Example from the Next.js repo
```

ä»Šå›ã¯`Default starter app`ã‚’é¸ã³ã¾ã™ã€‚

```bash
$ npx create-next-app nextjs-with-tailwindcss
âœ” Pick a template â€º Default starter app
Creating a new Next.js app in /Users/panda/next/nextjs-with-tailwindcss.

Installing react, react-dom, and next using yarn...

yarn add v1.13.0

# ...

Success! Created nextjs-with-tailwindcss at /Users/panda/next/nextjs-with-tailwindcss
```
## Tailwind CSSã®è¨­å®šã‚’è§£èª¬ã—ã¾ã™
### Tailwind CSSã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã§ããŸã®ã§ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã«ç§»å‹•ã—ã¾ã™ã€‚

```bash
$ cd nextjs-with-tailwindcss
```

**Tailwind CSSã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã†ã€‚**

```bash
$ npm install -D tailwindcss
```

ã“ã‚Œã§Tailwind CSSã‚’å°å…¥ã§ãã¾ã—ãŸã€‚

### tailwind.config.jsã‚’ä½œæˆã™ã‚‹
**æ¬¡ã«Tailwind CSSã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«`tailwind.config.js`ã‚’ä½œæˆã—ã¾ã™ã€‚**

```bash
$ npx tailwindcss init

tailwindcss 1.4.6

âœ… Created Tailwind config file: tailwind.config.js
```

ãƒãƒ¼ã‚¸ãƒ§ãƒ³1.4ã‹ã‚‰`tailwind.config.js`ã«purgeãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã¯PurgeCSSã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§åˆ©ç”¨ã™ã‚‹ãŸã‚ã®é …ç›®ã§ã™ã€‚

```js
module.exports = {
  purge: [],
  theme: {
    extend: {},
  },
  variants: {},
  plugins: [],
}
```

### PurgeCssã§ä¸è¦ãªCSSã‚’å‰Šé™¤ã™ã‚‹è¨­å®šã‚’ã™ã‚‹
**[PurgeCSS](https://github.com/FullHuman/purgecss)ã¯ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‹ã‚‰ä½¿ã‚ã‚Œã¦ã„ãªã„CSSã‚’å‰Šé™¤ã™ã‚‹ãŸã‚ã®PostCSSè£½ã®ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚**

PurgeCSSã¯HTMLã®`class`ã‚„Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®`className`ã§æŒ‡å®šã•ã‚Œã¦ã„ãªã„CSSã‚’å‰Šé™¤ã—ã¾ã™ã€‚ã¤ã¾ã‚Šã€å®Ÿéš›ã«ä½¿ã‚ã‚Œã¦ã„ã‚‹CSSã—ã‹ãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒãƒ³ãƒ‰ãƒ«ã—ãªã„ã®ã§ã™ã€‚

Tailwind CSSã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã¯`1996.1kb`ã§ã‚ã‚Šã€Gzipã§åœ§ç¸®ã—ã¦ã‚‚`144.6kb`ã‚‚ã‚ã‚‹ã®ã§ã€ä½¿ã‚ãªã„CSSã¾ã§é…ä¿¡ã—ã¦ã—ã¾ã†ã¨ã‚µã‚¤ãƒˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã«å½±éŸ¿ã—ã¦ã—ã¾ã„ã¾ã™ã€‚

ãã“ã§ã€Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§åˆ©ç”¨ã—ã¦ã„ã‚‹ã‚¯ãƒ©ã‚¹ã®ã¿ã‚’CSSã®ãƒ“ãƒ«ãƒ‰å¯¾è±¡ã«å«ã‚ã¾ã—ã‚‡ã†ã€‚

```js
module.exports = {
  purge: ['./components/**/*.jsx', './pages/**/*.jsx'],
  theme: {
    extend: {},
  },
  variants: {},
  plugins: [],
}
```

ã¾ãŸã€`postcss-preset-env`ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦`postcss.config.js`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚

```bash
$ npm i -D postcss-preset-env
```

```js
// postcss.config.js
module.exports = {
  plugins: ['tailwindcss', 'postcss-preset-env'],
}
```

ã“ã‚Œã§PurgeCSSã®è¨­å®šãŒã§ãã¾ã—ãŸã€‚

ãªãŠã€Tailwind CSSã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³1.3ä»¥å‰ã¯[è‡ªåˆ†ã§PurgeCSSã‚’å°å…¥ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚](https://tailwindcss.com/docs/controlling-file-size/#setting-up-purgecss-manually)ã‹ã¤ã¦`postcss.config.js`ã«ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¦ã„ã¾ã—ãŸã€‚

```js
const purgecss = require('@fullhuman/postcss-purgecss')({
  content: ['./components/**/*.jsx', './pages/**/*.jsx'],
  defaultExtractor: content => {
    const broadMatches = content.match(/[^<>"'`\s]*[^<>"'`\s:]/g) || []
    const innerMatches = content.match(/[^<>"'`\s.()]*[^<>"'`\s.():]/g) || []
    return broadMatches.concat(innerMatches)
  }
})

module.exports = {
  plugins: [
    require('tailwindcss'),
    require('autoprefixer'),
    ...process.env.NODE_ENV === 'production'
      ? [purgecss]
      : []
  ]
}
```

ä»¥å‰ã¨æ¯”ã¹ã‚‹ã¨v1.4ã‹ã‚‰è¨­å®šãŒæ¥½ã«ãªã‚Šã¾ã—ãŸã­ã€‚

### pages/style.cssã§Tailwind CSSã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’èª­ã¿è¾¼ã‚€
**æ¬¡ã¯Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§Tailwind CSSã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«è¨­å®šã‚’ã—ã¦ã„ãã¾ã™ã€‚**`pages/styles.css`ã‚’ä½œæˆã—ã¾ã—ã‚‡ã†ã€‚

```css
@tailwind base;
@tailwind components;

.btn-blue {
  @apply bg-blue-500 text-white font-bold py-2 px-4 rounded;
}

.hero {
  @apply py-20;
}

.title {
  @apply text-5xl text-center;
  color: #333;
  line-height: 1.15;
}

@tailwind utilities;
```

ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ãŸã‚¯ãƒ©ã‚¹ã¯ã€`@tailwind components`ã¨`@tailwind utilities`ã®é–“ã«è¨˜è¿°ã—ã¾ã™ã€‚

### pages/_app.jsxã§style.cssã‚’èª­ã¿è¾¼ã‚€
**Next.jsã¯`_app.jsx`ã§ã‚°ãƒ­ãƒ¼ãƒãƒ«ãªCSSã‚’èª­ã¿è¾¼ã¿ã¾ã™ã€‚**ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­ã§CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’importã—ã¾ã—ã‚‡ã†ã€‚

```jsx
import './styles.css'

function App({ Component, pageProps }) {
  return <Component {...pageProps} />
}

export default App
```

ã“ã‚Œã§ã€å…¨ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§Tailwind CSSã®ã‚¯ãƒ©ã‚¹ã‚’ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚

`pages/index.jsx`ã‚’ä½œæˆã—ã¦è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```jsx
export default function Index() {
  return (
    <div>
      <div className="hero">
        <h1 className="title">Next.js + Tailwind CSS ğŸ¼</h1>
        <p className="text-center text-teal-500 text-2xl py-4">This is an Example.</p>
      </div>
    </div>
  )
}
```

é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’ç«‹ã¡ä¸Šã’ã€`http://localhost:3000`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚

```
$ npm run dev
> with-tailwindcss@1.0.0 dev /Users/panda/next/nextjs-with-tailwindcss
> next "-p" "3000"

ready - started server on http://localhost:3000
```

![index.jsxãƒšãƒ¼ã‚¸](/media/2020/6/27/2020_6_27__1.png)

Next.jsã§Tailwind CSSã‚’å°å…¥ã§ãã¾ã—ãŸ ğŸ‰

## ã¾ã¨ã‚
Next.jsã¨Tailwind CSSã®çµ„ã¿åˆã‚ã›ã¯é–‹ç™ºä½“é¨“ãŒã¨ã¦ã‚‚ã„ã„ã§ã™ã€‚å€‹äººé–‹ç™ºã§[Creepy Nutsã®ãƒ•ã‚¡ãƒ³ã‚µã‚¤ãƒˆ](https://creepynutsfans.com/)ã‚’ä½œã£ãŸã¨ãã‚‚ã“ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã§ã—ãŸã€‚

**ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ä½œã‚‹Tailwind CSSã¨ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’çµ„ã¿åˆã‚ã›ã‚‹ã“ã¨ã§ãƒšãƒ¼ã‚¸ã‚’ä½œã‚‹Reactã€‚**CSSã‚’JavaScriptã§åˆ†é‡ã¯ç•°ãªã‚‹ã‚‚ã®ã®ã€äº’ã„ã«æ€æƒ³ãŒãƒªãƒ³ã‚¯ã™ã‚‹ã‚ˆã†ã§ã¨ã¦ã‚‚é¢ç™½ã„ã§ã™ã­ã€‚

ä»¥ä¸Šã€Next.jsã«Tailwind CSSã‚’å°å…¥ã™ã‚‹æ–¹æ³•ã§ã—ãŸã€‚
